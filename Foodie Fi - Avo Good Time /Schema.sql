CREATE SCHEMA foodie_fi;
SET search_path = foodie_fi;

CREATE TABLE plans (
  plan_id INTEGER,
  plan_name VARCHAR(13),
  price DECIMAL(5,2)
);

INSERT INTO plans
  (plan_id, plan_name, price)
VALUES
  ('0', 'trial', '0'),
  ('1', 'basic monthly', '9.90'),
  ('2', 'pro monthly', '19.90'),
  ('3', 'pro annual', '199'),
  ('4', 'churn', null);



CREATE TABLE subscriptions (
  customer_id INTEGER,
  plan_id INTEGER,
  start_date DATE
);

INSERT INTO subscriptions
  (customer_id, plan_id, start_date)
VALUES
  ('1', '0', '2020-08-01'),
  ('1', '1', '2020-08-08'),
  ('2', '0', '2020-09-20'),
  ('2', '3', '2020-09-27'),
  ('3', '0', '2020-01-13'),
  ('3', '1', '2020-01-20'),
  ('4', '0', '2020-01-17'),
  ('4', '1', '2020-01-24'),
  ('4', '4', '2020-04-21'),
  ('5', '0', '2020-08-03'),
  ('5', '1', '2020-08-10'),
  ('6', '0', '2020-12-23'),
  ('6', '1', '2020-12-30'),
  ('6', '4', '2021-02-26'),
  ('7', '0', '2020-02-05'),
  ('7', '1', '2020-02-12'),
  ('7', '2', '2020-05-22'),
  ('8', '0', '2020-06-11'),
  ('8', '1', '2020-06-18'),
  ('8', '2', '2020-08-03'),
  ('9', '0', '2020-12-07'),
  ('9', '3', '2020-12-14'),
  ('10', '0', '2020-09-19'),
  ('10', '2', '2020-09-26'),
  ('11', '0', '2020-11-19'),
  ('11', '4', '2020-11-26'),
  ('12', '0', '2020-09-22'),
  ('12', '1', '2020-09-29'),
  ('13', '0', '2020-12-15'),
  ('13', '1', '2020-12-22'),
  ('13', '2', '2021-03-29'),
  ('14', '0', '2020-09-22'),
  ('14', '1', '2020-09-29'),
  ('15', '0', '2020-03-17'),
  ('15', '2', '2020-03-24'),
  ('15', '4', '2020-04-29'),
  ('16', '0', '2020-05-31'),
  ('16', '1', '2020-06-07'),
  ('16', '3', '2020-10-21'),
  ('17', '0', '2020-07-27'),
  ('17', '1', '2020-08-03'),
  ('17', '3', '2020-12-11'),
  ('18', '0', '2020-07-06'),
  ('18', '2', '2020-07-13'),
  ('19', '0', '2020-06-22'),
  ('19', '2', '2020-06-29'),
  ('960', '0', '2020-10-22'),
  ('960', '2', '2020-10-29'),
  ('960', '3', '2021-02-28'),
  ('961', '0', '2020-09-12'),
  ('961', '1', '2020-09-19'),
  ('961', '3', '2020-11-21'),
  ('962', '0', '2020-06-03'),
  ('962', '1', '2020-06-10'),
  ('962', '2', '2020-09-23'),
  ('962', '4', '2020-11-20'),
  ('963', '0', '2020-01-04'),
  ('963', '2', '2020-01-11'),
  ('964', '0', '2020-10-09'),
  ('964', '1', '2020-10-16'),
  ('964', '4', '2021-02-27'),
  ('965', '0', '2020-06-19'),
  ('965', '1', '2020-06-26'),
  ('966', '0', '2020-02-09'),
  ('966', '1', '2020-02-16'),
  ('967', '0', '2020-08-21'),
  ('967', '1', '2020-08-28'),
  ('967', '2', '2021-01-15'),
  ('967', '3', '2021-04-15'),
  ('968', '0', '2020-11-22'),
  ('968', '2', '2020-11-29'),
  ('969', '0', '2020-02-21'),
  ('969', '2', '2020-02-28'),
  ('969', '3', '2020-06-28'),
  ('970', '0', '2020-10-05'),
  ('970', '1', '2020-10-12'),
  ('971', '0', '2020-01-02'),
  ('971', '2', '2020-01-09'),
  ('972', '0', '2020-02-05'),
  ('972', '3', '2020-02-12'),
  ('973', '0', '2020-01-08'),
  ('973', '4', '2020-01-15'),
  ('974', '0', '2020-09-10'),
  ('974', '1', '2020-09-17'),
  ('974', '3', '2020-10-16'),
  ('975', '0', '2020-11-15'),
  ('975', '1', '2020-11-22'),
  ('975', '3', '2021-04-30'),
  ('976', '0', '2020-11-11'),
  ('976', '1', '2020-11-18'),
  ('976', '3', '2021-02-13'),
  ('977', '0', '2020-08-04'),
  ('977', '1', '2020-08-11'),
  ('977', '4', '2020-11-03'),
  ('978', '0', '2020-08-27'),
  ('978', '2', '2020-09-03'),
  ('978', '3', '2020-11-03'),
  ('979', '0', '2020-12-28'),
  ('979', '1', '2021-01-04'),
  ('980', '0', '2020-06-12'),
  ('980', '2', '2020-06-19'),
  ('981', '0', '2020-02-16'),
  ('981', '2', '2020-02-23'),
  ('982', '0', '2020-06-13'),
  ('982', '1', '2020-06-20'),
  ('982', '2', '2020-10-14'),
  ('983', '0', '2020-12-12'),
  ('983', '1', '2020-12-19'),
  ('984', '0', '2020-06-30'),
  ('984', '1', '2020-07-07'),
  ('984', '4', '2020-09-30'),
  ('985', '0', '2020-08-02'),
  ('985', '4', '2020-08-09'),
  ('986', '0', '2020-11-16'),
  ('986', '1', '2020-11-23'),
  ('986', '4', '2021-04-13'),
  ('987', '0', '2020-01-05'),
  ('987', '4', '2020-01-12'),
  ('988', '0', '2020-05-02'),
  ('988', '4', '2020-05-09'),
  ('989', '0', '2020-09-03'),
  ('989', '2', '2020-09-10'),
  ('989', '3', '2021-01-10'),
  ('990', '0', '2020-07-23'),
  ('990', '1', '2020-07-30'),
  ('991', '0', '2020-10-18'),
  ('991', '2', '2020-10-25'),
  ('992', '0', '2020-10-17'),
  ('992', '2', '2020-10-24'),
  ('993', '0', '2020-10-31'),
  ('993', '4', '2020-11-07'),
  ('994', '0', '2020-07-25'),
  ('994', '1', '2020-08-01'),
  ('994', '2', '2020-08-27'),
  ('995', '0', '2020-06-11'),
  ('995', '1', '2020-06-18'),
  ('995', '2', '2020-12-06'),
  ('996', '0', '2020-11-11'),
  ('996', '1', '2020-11-18'),
  ('996', '4', '2020-12-07'),
  ('997', '0', '2020-07-27'),
  ('997', '1', '2020-08-03'),
  ('997', '2', '2020-08-26'),
  ('997', '4', '2020-11-14'),
  ('998', '0', '2020-10-12'),
  ('998', '2', '2020-10-19'),
  ('999', '0', '2020-10-23'),
  ('999', '2', '2020-10-30'),
  ('999', '4', '2020-12-01'),
  ('1000', '0', '2020-03-19'),
  ('1000', '2', '2020-03-26'),
  ('1000', '4', '2020-06-04');
